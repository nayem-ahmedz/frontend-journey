<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        :root{
            --sB: skyblue;
        }
        body{
            background-color: var(--sB);
        }
        .rect{
            margin: 40px auto; width: 80%; border: 1px solid red; padding: 10px 20px 30px;
            background-color: #eee;
        }
        .cir{
            padding: 25px; border: 1px solid; border-radius: 50%; margin: 5px;
            display: inline-block; transform: translateY(22px);
        }
    </style>
</head>
<body>
    <div class="rect">
        <h2>
            The Background color : <span class="display cir"></span> <span class="display"></span>
        </h2>
        <h2>
            Prev Bakground color : <span class="display cir"></span> <span class="display"></span>
        </h2>
        <button onclick="show()">Display Color Name</button>
        <button onclick="change()">Set Red</button>
        <p>You can choose a color as background</p>
        <input type="text" id="input" placeholder="type a color name" />
        <button onclick="change()">Change var</button>
    </div>
    <script>
        const root = document.querySelector(':root');
        const rootStyle = getComputedStyle(root);
        const display = document.getElementsByClassName('display');
        function show(){
            let color = rootStyle.getPropertyValue('--sB');
            display[1].textContent = color;
            display[0].style.backgroundColor = color;
        }
        async function prevShow(a){
            display[3].textContent = a;
            display[2].style.backgroundColor = a;
        }
        function change(){
            const input = document.getElementById('input');
            let cName = input.value.trim();
            let prevS = rootStyle.getPropertyValue('--sB');
            prevShow(prevS);
            if(cName){
                root.style.setProperty('--sB', cName);
                input.value = '';
            } else{
                root.style.setProperty('--sB', 'red');
            }
            show();
        }
    </script>
</body>
</html>